<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            border: 0;
        }

        #root p {
            color: white;
            font-size: 20px;
            background-color: green;
            text-align: center;
            width: 200px;
        }

        #btn_plus {
            background-color: red;
            border: 2px solid #000;
            font-size: 15px;
            width: 200px;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <button id="btn_plus">+</button>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script>
        // //이작업을 할때 렌더링이라고 함
        // //dom이 바뀜 쿼리셀렉터방식
        const root = document.querySelector('#root')
        const btn_plus = document.querySelector('#btn_plus')
        
        // let i = 1

        // root.innerHTML = '<p>inut: 1</p>'

        // btn_plus.addEventListener('click', ()=> {
            
        //     root.innerHTML =`<p>inut: ${i++}</p>`

        // })

        // // 리엑트에서 작동방식

        // const component = {
        //     message: 'init',
        //     count: 0,
        //     render() {
        //         return `<p>${this.message} : ${this.count}</p>`
        //     }
        // }

        // function render (rootElement, component) {
        //     rootElement.innerHTML =  component.render()
        // }

        // render(document.querySelector('#root'), component)
        // //위에 까지가 렌더링을 그려주는 코드

        // //클릭을 했을때 돔을 다시 그려줌 (렌더)
        // const btn_plus = document.querySelector('#btn_plus')

        // btn_plus.addEventListener('click', ()=>{
        //     component.message = 'update'
        //     component.count = component.count + 1
        //     render(document.querySelector('#root'), component)
        // })


        // 리엑트 라이브러리로 작동방식

        //생성할 요소를 미리 만들어 놓고
        const Component = (props) => {
                        //리엑트에서 제공하는 함수 요소를 만듬
            return React.createElement(
                'p', //태그명
                null, // props: 값을 넘겨 받을 수 있는
                `${props.message} : ${props.count}` // 태그 내부 텍스트
            )
        }

        //랜더해주는 크리에이트 엘리먼트에서 요소를 만들어서 요소에 하위태그에 집어넣음
        //dom을 그려준다
        ReactDom.render(
            React.createElement(Component, {message : 'init', Count: 0}, null), 
             document.querySelector('#root')
             )

        
        btn_plus.addEventListener('click', ()=>{
            ReactDom.render(
                React.createElement(Component, {message : 'update', Count: 10}, null), 
                document.querySelector('#root'))
        })

    </script>
</body>
</html>